---------------------------------
-- psql command line preferences
---------------------------------
-- Prompts
-- Prompt1 / Prompt2 / Prompt3
-- %M : server
-- %m : host name
-- %> : port
-- %n : user
-- %/ : current database
-- %~ : like %/ but ~ for default database
-- %# : '#' if superuser, '>' otherwise
-- %R : In prompt1:
--         = normally
--         ^ if in single-line mode
--         ! if the session is disconnected from the database
--      In prompt2:
--         the sequence is replaced by -, *, a single quote, a double quote,
--         or a dollar sign, depending on whether psql expects more input
--         because the command wasn't terminated yet
-- %x : Transaction status:
--           an empty string when not in a transaction block,
--         * when in a transaction block
--         ! when in a failed transaction block,
--         ? when the transaction state is indeterminate (for example, because there is no connection).
-- %[...%] : terminal control characters
------------------------------------------------------------

\set QUIET ON

\set PROMPT1 '%[%033[36m%]%n%[%033[34m%]@%[%033[36m%]%m%[%033[33m%]/%/ %[%033[K%]%[%033[0m%]\n%[%033[1;33m%]%#%[%033[0m%] '
\set PROMPT2 ''

-- HISTCONROL: tell what to do with duplicated values
\set HISTCONTROL ignoredups
-- HISTFILE: Where to store the history list
\set HISTFILE ~/.cache/psql/.psql_history-:HOST-:DBNAME
-- HISTSIZE: number of commands to store in historic file
\set HISTSIZE 600

\timing

\set QUIET OFF

-- Custom quieries that can be invoke preceding the name with a colon
-- :uptime

\set uptime 'select date_trunc(\'second\', current_timestamp -pg_postmaster_start_time()) as uptime;'

\echo 'Custon queries'
\echo '\t:uptime\t-\tServer Uptime'

